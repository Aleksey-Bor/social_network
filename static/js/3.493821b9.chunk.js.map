{"version":3,"sources":["components/common/Paginator/Paginator.module.css","components/Users/Users.module.css","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","pageButtonsContainer","ButtonsPaginator","onClick","filter","p","map","selectedPage","page","User","user","followingInProgress","unFollowToUser","followToUser","itemUser","to","id","src","photos","small","userPhoto","alt","followed","button","disabled","some","userName","name","status","Users","users","props","u","getUsersData","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","getUsers","this","React","Component","compose","connect","setCurrentPage","withAuthRedirect"],"mappings":"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","file":"static/js/3.493821b9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageButtonsContainer\":\"Paginator_pageButtonsContainer__3pgPs\",\"page\":\"Paginator_page__WjlZ-\",\"selectedPage\":\"Paginator_selectedPage__GJfAJ\",\"ButtonsPaginator\":\"Paginator_ButtonsPaginator__35K7T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemUser\":\"Users_itemUser__1C2ie\",\"userPhoto\":\"Users_userPhoto__2o1wF\",\"userName\":\"Users_userName__1Fhvi\",\"status\":\"Users_status__28pFk\",\"button\":\"Users_button__1O4nY\"};","import React, { useState } from \"react\";\r\nimport style from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 15,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionSize * portionNumber;\r\n\r\n  return (\r\n    <div className={style.pageButtonsContainer}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          className={style.ButtonsPaginator}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          &#60;\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={currentPage === p ? style.selectedPage : style.page}\r\n              onClick={() => {\r\n                onPageChanged(p);\r\n              }}\r\n              key={p}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          className={style.ButtonsPaginator}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          &#62;\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user_unisex.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nlet User = ({ user, followingInProgress, unFollowToUser, followToUser }) => {\r\n  return (\r\n    <div className={style.itemUser}>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              className={style.userPhoto}\r\n              alt=\"avatar\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              className={style.button}\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unFollowToUser(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className={style.button}\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                followToUser(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div className={style.userName}>{user.name}</div>\r\n          <div className={style.status}>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"user.location.country\"}</div>\r\n          <div>{\"user.location.city\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({\r\n  currentPage,\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n      />\r\n      <div>\r\n        {users.map((u) => (\r\n          <User\r\n            user={u}\r\n            followingInProgress={props.followingInProgress}\r\n            unFollowToUser={props.unFollowToUser}\r\n            followToUser={props.followToUser}\r\n            key={u.id}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const getUsersData = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  followToUser,\r\n  unFollowToUser,\r\n  setCurrentPage,\r\n  getUsers,\r\n} from \"../../Redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../components/common/preloader/preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getUsersData,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress,\r\n} from \"../../Redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const { pageSize } = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          followToUser={this.props.followToUser}\r\n          unFollowToUser={this.props.unFollowToUser}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersData(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    followToUser,\r\n    unFollowToUser,\r\n    setCurrentPage,\r\n    getUsers,\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainer);\r\n"],"sourceRoot":""}